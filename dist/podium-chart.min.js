"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}function _inherits(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&_setPrototypeOf(t,n)}function _createSuper(e){var o=_isNativeReflectConstruct();return function(){var t,n=_getPrototypeOf(e);return _possibleConstructorReturn(this,o?(t=_getPrototypeOf(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}function _possibleConstructorReturn(t,n){return!n||"object"!==_typeof(n)&&"function"!=typeof n?_assertThisInitialized(t):n}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,t)})(t)}function _construct(t,n,e){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,n,e){var o=[null];o.push.apply(o,n);var r=new(Function.bind.apply(t,o));return e&&_setPrototypeOf(r,e.prototype),r}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,n){return(_setPrototypeOf=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var PodiumChart=function(){_inherits(n,_wrapNativeSuper(HTMLElement));var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"connectedCallback",value:function(){var n=this,e=this.attachShadow({mode:"open"}),o=this.getAttributes(this);o.source&&fetch(o.source).then(function(t){return t.json()}).then(function(t){o.data=t,o.data=n.sortItems(o.data),n.createShadowDom(e,o)})}},{key:"disconnectedCallback",value:function(){}},{key:"createShadowDom",value:function(t,n){if(3!==n.data.length)return!1;var e=n.pointsArray,o="";n.stylesheet&&(o+='<link rel="stylesheet" href="'.concat(n.stylesheet,'">')),o+='\n        <style type="text/css">\n        @keyframes fadein {\n            from {\n                opacity: 0;\n            }\n            to {\n                opacity: 1;\n            }\n        }\n\n        @keyframes draw {\n            to {\n              stroke-dashoffset: 0;\n            }\n        }\n\n        @keyframes move {\n            33% {\n                cx: '.concat(e[1][0],";\n                cy: ").concat(e[1][1],";\n            }\n            34% {\n                cx: ").concat(e[2][0],";\n                cy: ").concat(e[2][1],";\n            }\n            66% {\n                cx: ").concat(e[3][0],";\n                cy: ").concat(e[3][1],";\n            }\n            67% {\n                cx: ").concat(e[4][0],";\n                cy: ").concat(e[4][1],";\n            }\n            100% {\n                cx: ").concat(e[5][0],";\n                cy: ").concat(e[5][1],";\n            }\n        }\n\n        #podium-chart {\n            display: flex;\n            position: relative;\n            width: ").concat(n.width,"px;\n            height: ").concat(n.height,"px;\n        }\n\n        .podium-line {\n            fill: none;\n            stroke: ").concat(n.strokeColor,";\n            stroke-width: 6;\n            stroke-dasharray: ").concat(2*n.width,"px;\n            stroke-dashoffset: ").concat(2*n.width,"px;\n            animation: draw 1s forwards;\n        }\n\n        .moving-point {\n            fill: yellow;\n            cx: -10;\n            cy: 120;\n            r: 6;\n            animation: move .4s linear;\n            animation-delay: .7s;\n        }\n\n        .svg-line {\n            position: absolute;\n            z-index: 1;\n            height: 100%;\n        }\n\n        .places {\n            display: flex;\n            align-items: flex-end;\n            width: 100%;\n            font-size: 30px;\n            font-weight: bold;\n            color: #444141;\n        }\n\n        .place {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: #e5e5e5;\n            width: 100%;\n            animation: fadein 1s;\n        }\n\n        .subject {\n            position: absolute;\n            white-space: break-spaces;\n            text-align: center;\n            font-size: 16px;\n            line-height: 1.6em;\n            color: #444141;\n        }\n        </style>"),t.innerHTML=o+this.getHtml(n),this.setAttribute("connected",!0)}},{key:"getAttributes",value:function(t){var n={};n.source=t.getAttribute("source"),n.height=parseInt(t.getAttribute("height"))||200,n.width=parseInt(t.getAttribute("width"))||200,n.strokeColor=t.getAttribute("stroke-color")||"#b9b9b9",n.stylesheet=t.getAttribute("stylesheet");var e=Math.round(n.width/3),o=[n.height-.4*n.height,n.height-.6*n.height,n.height-.3*n.height];return n.offsets=o,n.pointsArray=[[0,o[0]],[e-3,o[0]],[e,o[1]],[2*e-3,o[1]],[2*e,o[2]],[3*e,o[2]]],n}},{key:"sortItems",value:function(t){var n=[null,null,null];return t.forEach(function(t){2===t.place?n[0]=t:1===t.place?n[1]=t:n[2]=t}),n}},{key:"getSubjectHeight",value:function(){}},{key:"getHtml",value:function(e){var t=e.pointsArray.join(" "),o=[2,1,3];return'\n        <div id="podium-chart">\n            <svg height="100%" width="100%" class="svg-line">\n                <polyline points="'.concat(t,'" class="podium-line"></polyline>\n                <circle r="6" class="moving-point"/>\n            </svg>\n            <div class="places">\n                ').concat(e.data.map(function(t,n){return'\n                    <div class="place" style="height: calc(100% - '.concat(e.offsets[n],'px)">\n                        <div class="subject" style="bottom: ').concat(e.height-e.offsets[n]+10,'px">').concat(t.subject,"</div>\n                        ").concat(o[n],"\n                    </div>\n                    ")}).join(""),"\n            </div>\n        </div>\n        ")}}],[{key:"tag",get:function(){return"podium-chart"}}]),n}();window.customElements.define("podium-chart",PodiumChart);
